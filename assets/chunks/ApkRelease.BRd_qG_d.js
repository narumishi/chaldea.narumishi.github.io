import{d as f,_ as u,o as i,c as d,j as t,F as p,E as m,a as k,t as a,e as h,ai as c,aj as v}from"./framework.C3k1klfB.js";const _=f({props:{language:String},data(){var e;return{loading:!1,msg:"",files:[],region:"jp",all_pkgs:{jp:"com.aniplex.fategrandorder",na:"com.aniplex.fategrandorder.en",tw:"com.xiaomeng.fategrandorder",kr:"com.netmarble.fgok"},t:(e=this.language)!=null&&e.startsWith("zh")?{format:"格式",version:"版本",link:"链接",download:"下载",size:"大小",modified:"修改时间",proxy:"代理"}:{format:"Format",version:"Version",link:"Link",download:"Download",size:"Size",modified:"Modified",proxy:"Proxy"}}},mounted(){this.getData()},methods:{filter(e){const r=this.all_pkgs[e];let n=[...this.files];return n=n.filter(s=>s.fileName.startsWith(r+".v")),n.sort((s,l)=>l.version!=s.version?l.version-s.version:s.versionName.localeCompare(l.versionName)),n=n.slice(0,4),n},getData(){this.loading=!0;const e=window.apk_files||[];if(e&&e.length>0){this.loading=!1,this.files=new Array(...e),this.msg="";return}fetch("https://static.atlasacademy.io/apk/manifest.json").then(r=>r.json()).then(r=>{let n=[];for(let s of r){if(!s.fileName.endsWith("apk"))continue;const l=s.fileName.match(/v(\d+)\.(\d+)\.(\d+)(\..+)?(?=\.x?apk)/);n.push({...s,version:l==null?0:(parseInt(l[1])*100+parseInt(l[2]))*100+parseInt(l[3]),versionName:l==null?"":l[0].replace(".armeabi_v7a"," @32").substring(1),link:"https://static.atlasacademy.io/apk/"+s.fileName,link_proxy:"https://worker-cn.chaldea.center/proxy/apk/"+s.fileName})}this.files=n,window.apk_files=new Array(...n),this.loading=!1,this.msg=""}).catch(r=>{this.loading=!1,this.msg=r})}}}),y={class:"apk-release"},w={class:"toggle"},N=["id","value"],b=["for"],j=["href"],z={key:0},D={key:1,class:"error-hint"},V={key:2},A={style:{"text-wrap":"nowrap"}},B=["href"],C=["href"];function F(e,r,n,s,l,L){return i(),d("div",y,[t("div",w,[(i(),d(p,null,m(["jp","na","tw","kr"],o=>(i(),d(p,{key:o},[c(t("input",{type:"radio",id:o,value:o,"onUpdate:modelValue":r[0]||(r[0]=g=>e.region=g)},null,8,N),[[v,e.region]]),t("label",{for:o},a(o.toUpperCase()),9,b)],64))),64))]),t("div",null,[k(" Google Play: "),t("a",{target:"_blank",href:"https://play.google.com/store/apps/details?id="+e.all_pkgs[e.region]},a(e.all_pkgs[e.region]),9,j)]),e.loading?(i(),d("p",z,"Loading...")):h("",!0),e.msg?(i(),d("p",D,"Error: "+a(e.msg),1)):h("",!0),e.files.length?(i(),d("table",V,[t("thead",null,[t("tr",A,[t("th",null,a(e.t.format),1),t("th",null,a(e.t.version),1),t("th",null,a(e.t.link),1),t("th",null,a(e.t.link),1),t("th",null,a(e.t.size),1),t("th",null,a(e.t.modified),1)])]),t("tbody",null,[(i(!0),d(p,null,m(e.filter(e.region),o=>(i(),d("tr",{key:o.name},[t("td",null,a(o.fileName.split(".").toReversed()[0]),1),t("td",null,a(o.versionName),1),t("td",null,[t("a",{href:o.link,target:"_blank",rel:"noreferrer"},a(e.t.download),9,B)]),t("td",null,[t("a",{href:o.link_proxy,target:"_blank",rel:"noreferrer"},a(e.t.proxy),9,C)]),t("td",null,a((o.size/1024/1024).toFixed(0))+" MB",1),t("td",null,a(new Date(o.uploadTimestamp).toLocaleString()),1)]))),128))])])):h("",!0)])}const $=u(_,[["render",F]]);export{$ as A};
